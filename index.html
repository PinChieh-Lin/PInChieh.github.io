
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .goodsPrice {
            background-color: #7eb3a7;
            width: 500px;
            height: 800px;
        }
    </style>
</head>

<body>
    <div class="goodsPrice">
        <form name="form">

            1.主餐(單點)<br>
            <label>
                <input type="radio" value="100" name=main>牛排100元<br />
            </label>
            <label>
                <input type="radio" value="70" name=main>魚排70元<br />
            </label>
            <label>
                <input type="radio" value="70" name=main>豬排70元<br>
            </label>
            <label>
                <input type="radio" value="70" name=main>雞排70元<br>
            </label>
            <label>
                <input type="radio" value="80" name=main>羊排80元<br>
            </label> 2.配菜(可複選)

            <br>
            <label>
                <input type="checkbox" value="70" name="side">清蒸排骨70元<br>
            </label>
            <label>

                <input type="checkbox" value="60" name="side">紅燒魚60元<br>
            </label>
            <label>
                <input type="checkbox" value="70" name="side">唐揚炸雞70元<br>
            </label> 3.甜點&飲料(可複選)
            <br>

            <label>
                <input type="checkbox" value="30" name="drink">紅茶30元<br>
            </label>
            <label>
                <input type="checkbox" value="30" name="drink">綠茶30元<br>
            </label>
            <label>
                <input type="checkbox" value="30" name="drink">奶茶30元<br>
            </label>
            <label>
                <input type="checkbox" value="40" name="drink">柳橙汁40元<br>
            </label>

            <input type="reset" value="清除" /> <br />共計
            <input type="text" id="total">元
            <input onclick="alert('感謝您的訂購')" type="submit" value="送出">
        </form>

        <script>
            // 選擇所有的主餐
            const mainMeals = document.querySelectorAll('input[name="main"]');
            // 選擇所有的配餐
            const sideMeals = document.querySelectorAll('input[name="side"]');
            // 選擇所有的飲品
            const drinks = document.querySelectorAll('input[name="drink"]');

            // 為被選擇到的元素都綁定事件
            mainMeals.forEach(function (mainMeal) {
                mainMeal.addEventListener("change", refreshTotal);
            });
            sideMeals.forEach(function (mainMeal) {
                mainMeal.addEventListener("change", refreshTotal);
            });
            drinks.forEach(function (mainMeal) {
                mainMeal.addEventListener("change", refreshTotal);
            });

            function refreshTotal(e) {
                let total = 0;
                // 找出 mainMeals 中有被勾選的項目
                mainMeals.forEach(function (mainMeal) {
                    if (mainMeal.checked) {
                        total += Number(mainMeal.value);
                    }
                });
                sideMeals.forEach(function (sideMeal) {
                    if (sideMeal.checked) {
                        total += Number(sideMeal.value);
                    }
                });

                drinks.forEach(function (drink) {
                    if (drink.checked) {
                        total += Number(drink.value);
                    }
                });

                displayTotal(total);
            }

            // 用來將算好的 total 顯示在 input 欄位中
            const totalInput = document.querySelector("#total");
            function displayTotal(total) {
                totalInput.value = total;
            }

            // 清除
            // 選擇所有 input 元素
            const inputAll = document.querySelectorAll("input");
            function resetAll() {
                inputAll.checked = false;
            }

        </script>
    </div>
</body>

</html>